Release information for 3.3.0
-------------------------------------

This release contains various improvements which require your manual
interaction during an upgrade from an earlier version. You Ñ•hould definitely
make a backup of your database and possibly your content folder.

Folder search
-------------
The new folder search has introduced a new database field which has to
be initially filled. Without that field searching for subfolders in a
folder will not work.

Data conversion
---------------
The conversion of strings like names and comments of documents and folders,
when saved in the database, has been completely droped. This was originally
done for security reasons, both to prevent sql injections and cross side
scripting. Basically any field data that could do any harm, was replaced
by 'harmless' chars. Ampersands, semi colons, quotes, etc., they all have
been replaced by their html entity or masked by a backslash. The output of
those fields on html pages was not decoded anymore, but any other application
that accessed the database had to decode the data.

The new approach with less impact on the data keeps the data 
unmodified when saving it in the database without opening new security
wholes. Protection against cross side scripting is done when the data
is placed on a html page.

As a consequence the complete database has to be searched for those
previously converted strings and converted back into the original value. 

For both of the above improvements a php script is provided which has to be
called after the database update.

Content directory
-----------------
Each document in LetoDMS is associated with a directory in the file system.
Consequently, there is a limitation of documents set by the maximum number
of subdirectories in a directory of the filesystem. The currently most used
filesystem on Linux (ext3) supports only 31998 directories. In order to
overcome this limitation another level of directories has been put inbetween
the content directory and the document directory numbered from 1 to maxDirId.

If you intend to switch to the new content directory format, you will have
to create a new directory with name '1' below the content dir and move all
document directories into it. If you have already a document with id 1, you
must choose a different name for your new sub directory and rename to 1 after
all document directories have been moved.


